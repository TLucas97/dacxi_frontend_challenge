(function(t){function e(e){for(var i,s,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],i=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=r[0]))}return t}var i={},n={app:0},a=[];function s(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=i,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/dacxi_frontend_challenge/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},4226:function(t,e){t.exports="data:image/png;base64,UklGRkYFAABXRUJQVlA4TDkFAAAvBAENEL8gFkzmL90Xw/zPP0G2Lf4IXoJJmmo7Bms4AgAc7QMAQJZt223b3OdH0C8gxGLw4c5/rCiURJe/rIj+TwBeKEspm+KPb4Uky/Kn08yuz383cY7qn23mcPyz2Vj6bxFZnMX+eLIUkkx/u+Bs/jghmbZEr6z284TM7tsEr6f7LSRdq8/V0jTm2zPUmvI45Dl6xDvJg4PvwzrcTll/AdDHvsZVXhbY/Ci8MOVHI3K90VL4Y80NBxDCnmb7eIMzhBCgivHA3ECQ2wTn+A8zNb4ASNpDTHiDjDo7oi9l01x4huCkV7OvyP6v8PFumnn1h8FOsigAxMec7B3OEMIEJxJZ1o1rLGXa6KkybnCeqzO811T4w8HWpGhqELxDvbU24KAhmARmjExYGd9KnTdQlaeIqjxFzWyeXvLKZ51mFloJmJ0lK658IDG91ca3s1xI+qYXZMkk6f9k9rojS2HTF4Fkd/dTGg+vFfA6vlVG3YPaziJ3O99NM7v+byg4ux5Ztz4LB7+AifVRGesEgHW60XkKMsPEU+/EN1PnYBn55KiPLBzOAGLFCGipTnwHkcWZIYX8Toq/RJ3XKy1D7cp4DbkqCidJ11uIzY3ZMNkEQFMKADTFSi1gNsFk01vtVzaFzi/Y2D6zjzmb5cxlSL2V17TmjhaSPBfWhlt81+ojOaD9LGVzFwCTDwQ2VwFgPmCsPaDW1ECo2it+E4B5J6H/LGusaIr3tkZCU0vvrIqiOzWw9lx+GZDUml62NrSF0DsrRzd1hPWGy3J2FL8JVwDQvfp4Wa4y+qVTqtTTjjbCNWhpRNxHly3pe4Q0A3NSICa5kpgaxq0iNwWA2d9mG/AO38zY3O4zF5JcnmR5Hpr5BWRGCAueYXkeYVlQm7/uqM6esOPV2gsX4jX1FuNd1BlkKhQAIiMiABKt0pbQAXJDYAagLZFOojW0QboBgMrL1oqh86+XqyKdrYNS5WvObtGbGL8ArG6JR8kswEbbeRQespPc8FnITQDAKYHFEZkQnNwEmkmfqp3kZswnfW6QWTG+PSk0XBuBvVTxkMbCXq64dCQ1Fg6eN0lMaCbSU2aAU3d6cqY585iVZT14VDvnyINyMGgp684EZ0o8qznzmI1l3Xl2yE0HQuaT4BXdJg0bB6RBt0lD5kBoMAeBhKXkKrBe54qPe+wjCYhcAzN2GiY6Eg0bDVIoACLj4YF2UhIjUArCpFpYIdFg/AI47NaSB6+OWONiALA2LgJAbvQr9coFa8VwizRigNBXWgNkIzMAmR8AJm7lS7jyxM4mPgvJse0K6XOl+wuwP0n8SerXNtYKiFcudzBmAAetgcxCbQhL4+AMnA0U0pDJDTs3MzOhK/xF5KYAoP487CPnANRH8gDUr/xjnQBgKiSZ7yDOGCKprUh+ATsfuvALiQ8xntMnHXUmJ6zkjECf9BGURQN7D+n4BXIRADAfmocQvbPPI5C1l2wEsg6UCGV9oBkrxhtgcpLF0JJCq0gWRSAzdpJlaqwsQCAnIJFkQiZZKJWRuZMu0Q0ANI3oGMTWnI81QFOtDUDtyPmIginVLUDtON39iAJYqrWFmFJKEUh1eCfonEyAyRQAvEhlFgVASDMQogmaajMgZgAwxRgAzDEE08kmIKRZLQBmUi6RrgCgeyfh537W+PTghgZuPpVr5KYAYF7t+NUkun4P0PwElgV19JLwu9EgACAqtwPMr5FuAKCCX843m8o18lD8+D8OdH+C298LUL9QkuDnz+vPA5iPHIq/e+rkgD+97idLNvy5AQA="},"56d7":function(t,e,r){"use strict";r.r(e);var i=r("2b0e"),n=r("7496"),a=r("8336"),s=r("490a"),o=r("8e36"),c=r("b974"),u=r("8654"),l=function(){var t=this,e=t._self._c;return e(n["a"],[e("div",{staticClass:"bg-dacxi-white h-full"},[e("Header"),e("div",{staticClass:"flex justify-between align-center w-8/12 mx-auto height-adjust"},[e("div",[e("p",{staticClass:"text-center text-sm",on:{click:function(e){return t.updateChart()}}},[t._v(" "+t._s(t.priceTitle)+" test ")]),t.loading?e("div",{staticClass:"flex justify-center mb-7"},[e(s["a"],{attrs:{indeterminate:"",color:"blue"}})],1):e("h1",{staticClass:"text-center mb-5 text-h4 fade-in fade-out font-weight-bold text-dacxi-error"},[t._v(" "+t._s(t.progressView?t.formatCurrency(t.price,t.coin.currentCoin):t.formatCurrency(t.oldPrice,t.coin.currentCoin))+" ")]),t.progressView?e("div",{staticClass:"flex justify-center align-center mb-10 fade-in fade-out"},[e(o["a"],{attrs:{value:t.progressValue}})],1):t._e(),e(c["a"],{attrs:{items:t.cripto.criptos,label:"Select your criptocurrency","prepend-icon":"mdi-hand-coin",outlined:""},on:{change:function(e){t.progressView?t.setCripto():t.setDateTime()}},model:{value:t.cripto.currentCripto,callback:function(e){t.$set(t.cripto,"currentCripto",e)},expression:"cripto.currentCripto"}}),e(c["a"],{attrs:{items:t.coin.coins,label:"Select your coin","prepend-icon":"mdi-currency-usd",outlined:""},on:{change:function(e){t.progressView?t.setCripto():t.setDateTime()}},model:{value:t.coin.currentCoin,callback:function(e){t.$set(t.coin,"currentCoin",e)},expression:"coin.currentCoin"}}),e("h3",{staticClass:"mb-4"},[t._v("Filter price by specific date")]),e(u["a"],{attrs:{outlined:"",disabled:!t.progressView,label:"Select date",type:"date"},model:{value:t.currentTime.date,callback:function(e){t.$set(t.currentTime,"date",e)},expression:"currentTime.date"}}),e(u["a"],{attrs:{outlined:"",disabled:!t.progressView,label:"Select hour",type:"time"},model:{value:t.currentTime.hour,callback:function(e){t.$set(t.currentTime,"hour",e)},expression:"currentTime.hour"}}),e(a["a"],{staticClass:"text-capitalize",on:{click:function(e){t.progressView?t.setDateTime():t.clearFilters()}}},[t._v(t._s(t.filterButton))])],1),e("div",[e("div",{staticClass:"flex justify-end mb-5 font-weight-bold fade-in fade-out"},[e("h3",[e("span",{staticClass:"text-capitalize"},[t._v(t._s(t.cripto.currentCripto))]),t._v(" Graph History from 30 days ago in "),e("span",{staticClass:"text-uppercase text-dacxi-success"},[t._v(t._s(t.coin.currentCoin))])])]),e("apexchart",{staticClass:"fade-in fade-out",attrs:{width:"650",type:"area",options:t.options,series:t.series}})],1)])],1)])},p=[],d=(r("13d5"),r("bc3a"));const h=d["a"].create({baseURL:"https://api.coingecko.com/api/v3"});var m=h;const g=async(t,e,r=30)=>{const{data:i}=await m.get(`/coins/${t}/market_chart?`,{params:{vs_currency:e,days:r,interval:"daily"}});return i},f=async(t,e)=>{try{var r;const{data:i}=await m.get("/coins/"+t);return null===i||void 0===i||null===(r=i.market_data.current_price)||void 0===r?void 0:r[e]}catch(i){console.log(i)}},C=async(t,e,r,i)=>{const n=b(r),a=b(i);try{const{data:r}=await m.get(`/coins/${t}/market_chart/range?vs_currency=${e}&from=${n}&to=${a}`);return r}catch(s){console.log(s)}},v=(t,e)=>{const r={usd:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:3}).format(t),eur:new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",maximumSignificantDigits:3}).format(t),brl:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumSignificantDigits:3}).format(t)};return r[e]},b=t=>t.getTime()/1e3,w=(t,e)=>{const r={bitcoin:1367323200,ethereum:1438947200,"terra-luna":1559217600,dacxi:1625140800},i={bitcoin:b(e)<r[t]?new Date(1e3*r[t]):e,ethereum:b(e)<r[t]?new Date(1e3*r[t]):e,"terra-luna":b(e)<r[t]?new Date(1e3*r[t]):e,dacxi:b(e)<r[t]?new Date(1e3*r[t]):e};return i[t]},y=t=>{const e=new Date;return t>e};var x=function(){var t=this;t._self._c;return t._m(0)},A=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full bg-dacxi-blue px-5 h-17 flex justify-between align-center"},[e("img",{staticClass:"py-2",attrs:{src:r("4226"),alt:""}}),e("span",{staticClass:"white--text"},[t._v("Application data provided by: "),e("a",{staticClass:"font-weight-bold hover:underline transition",attrs:{href:"https://www.coingecko.com/en/api/documentation",target:"_blank"}},[t._v("CoinGecko Crypto Api")])])])}],D=r("2877"),T={},k=Object(D["a"])(T,x,A,!1,null,null,null),F=k.exports,P={name:"App",components:{Header:F},data:()=>({loading:!1,currentTime:{date:"",hour:""},priceTitle:"Current price",filterButton:"Filter",price:"",oldPrice:"",dateTime:"",progressValue:0,progressView:!0,options:{chart:{id:"dacxi-cripto-chart"},xaxis:{categories:[]}},series:[{name:"",data:[]}],coin:{coins:[{text:"USD",value:"usd"},{text:"EUR",value:"eur"},{text:"BRL",value:"brl"}],currentCoin:"usd"},cripto:{criptos:[{text:"Ethereum",value:"ethereum"},{text:"Bitcoin",value:"bitcoin"},{text:"Luna",value:"terra-luna"},{text:"Dacxi",value:"dacxi"}],currentCripto:"bitcoin"}}),async mounted(){this.loadChart(),this.setCripto(),this.timerUpdate()},methods:{async loadChart(){const{prices:t}=await g(this.cripto.currentCripto,this.coin.currentCoin);this.series[0].data=t.map(t=>t[1].toFixed(4)),this.series[0].name="bitcoin $"},async updateChart(){const{prices:t}=await g(this.cripto.currentCripto,this.coin.currentCoin),e=t.map(t=>t[1].toFixed(4));this.series=[{data:e,name:this.cripto.currentCripto.toLocaleUpperCase()}]},async setCripto(){this.loading=!0,this.progressValue=0,this.price=await f(this.cripto.currentCripto,this.coin.currentCoin),await this.updateChart(),this.loading=!1},timerUpdate(){setInterval(()=>{this.progressView&&(this.progressValue+=1,this.progressValue>100&&(this.progressValue=0,this.setCripto()))},100)},formatCurrency(t,e){return v(t,e)},async setDateTime(){if(""===this.currentTime.date||""===this.currentTime.hour)return void this.$toast.warning("Please select a date and hour");const t=new Date(this.currentTime.date+" "+this.currentTime.hour),e=y(t);if(e)return void this.$toast.warning("You can't select a future date");this.progressView=!1,this.loading=!0;const r=w(this.cripto.currentCripto,t),i=new Date(r.getTime()+9e7),n=new Date(r.getTime()-9e7),a=await C(this.cripto.currentCripto,this.coin.currentCoin,n,i),s=b(t),o=a.prices.reduce((t,e)=>Math.abs(e[0]-s)<Math.abs(t[0]-s)?e:t);this.oldPrice=o[1],this.priceTitle="Closest available price",this.filterButton="Clear filters",this.loading=!1},clearFilters(){this.progressView=!0,this.priceTitle="Current price",this.filterButton="Filter",this.currentTime.date="",this.currentTime.hour="",this.setCripto()}}},V=P,B=Object(D["a"])(V,l,p,!1,null,null,null),O=B.exports,j=r("f309");i["a"].use(j["a"]);var _=new j["a"]({}),L=(r("845f"),r("6c42")),z=(r("da96"),r("1321")),I=r.n(z);i["a"].use(I.a),i["a"].component("apexchart",I.a);const E={position:"top-center",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1,transition:"Vue-Toastification__fade",maxToasts:20,newestOnTop:!0};i["a"].use(L["a"],E),i["a"].config.productionTip=!1,new i["a"]({vuetify:_,render:t=>t(O)}).$mount("#app")},"845f":function(t,e,r){}});
//# sourceMappingURL=app.e9c3d8ab.js.map